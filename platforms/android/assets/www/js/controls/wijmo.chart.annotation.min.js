/*
    *
    * Wijmo Library 5.20152.90
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){(function(i){'use strict';var v,y,r,f,u,e,o,s,h,c,l,a;(function(n){n[n.DataIndex=0]="DataIndex";n[n.DataCoordinate=1]="DataCoordinate";n[n.Relative=2]="Relative";n[n.Absolute=3]="Absolute"})(i.AnnotationAttachment||(i.AnnotationAttachment={}));v=i.AnnotationAttachment,function(n){n[n.Center=0]="Center";n[n.Top=1]="Top";n[n.Bottom=2]="Bottom";n[n.Left=4]="Left";n[n.Right=8]="Right"}(i.AnnotationPosition||(i.AnnotationPosition={}));y=i.AnnotationPosition;r=function(){function i(n){this._resetDefaultValue();n&&this._copy(this,n)}return i.prototype._copy=function(n,t){for(var i in t)i in n&&this._processOptions(i,n,t)},i.prototype._processOptions=function(n,t,i){t[n]=i[n]},i.prototype._resetDefaultValue=function(){var i=this;i._attachment=3;i._point=new t.DataPoint(0,0);i._seriesIndex=0;i._pointIndex=0;i._position=0;i._offset=new n.Point(0,0);i._isVisible=!0;i._tooltip=''},Object.defineProperty(i.prototype,"attachment",{get:function(){return this._attachment},set:function(n){n!==this._attachment&&(this._attachment=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"point",{get:function(){return this._point},set:function(n){n.x!=null&&n.y!=null&&(n.x!==this._point.x||n.y!==this._point.y)&&(this._point=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){t!==this._seriesIndex&&(this._seriesIndex=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointIndex",{get:function(){return this._pointIndex},set:function(t){t!==this._pointIndex&&(this._pointIndex=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(n){n!==this._position&&(this._position=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this._offset},set:function(n){n.x!=null&&n.y!=null&&(n.x!==this._offset.x||n.y!==this._offset.y)&&(this._offset=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style==null&&(this._style={}),this._style},set:function(n){n!==this._style&&(this._style=n,this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){t!==this._isVisible&&(this._isVisible=n.asBoolean(t,!1),this._toggleVisibility(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return this._tooltip},set:function(n){n!==this._tooltip&&(this._tooltip=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(n){n!==this._name&&(this._name=n)},enumerable:!0,configurable:!0}),i.prototype._toggleVisibility=function(n){var t=n?'visible':'hidden';this._element&&this._element.setAttribute('visibility',t)},i.prototype._getCSSClass=function(){return i._CSS_ANNOTATION},i.prototype.render=function(n){var t=this;t._element=n.startGroup(t._getCSSClass());t._render(n);n.endGroup();t._element[i._DATA_KEY]=this;t._isVisible||t._toggleVisibility(!1)},i.prototype._render=function(){this._element=null},i.prototype.destroy=function(){},i.prototype._repaint=function(){this._layer&&this._layer._renderAnnotation(this)},i.prototype._convertPoint=function(t){var i=this,l=i._attachment,r=new n.Point,u,f,h,o,e,s,c;i._layer&&i._layer._chart&&(u=i._layer._chart,f=u._plotRect);switch(l){case 0:if(!u.series||u.series.length<=i.seriesIndex)break;if(e=u.series[i.seriesIndex],s=e._getItem(i.pointIndex),!s)break;h=e.axisX||u.axisX;o=e.axisY||u.axisY;c=s[e.bindingX]||s.x;typeof c=='string'&&(c=i.pointIndex);r.x=i._convertDataToLen(f.width,h,c);r.y=i._convertDataToLen(f.height,o,s[e._getBinding(0)]||o.actualMin+.25,!0);break;case 1:h=u.axisX;o=u.axisY;r.x=i._convertDataToLen(f.width,h,t.x);r.y=i._convertDataToLen(f.height,o,t.y,!0);break;case 2:r.x=f.width*t.x;r.y=f.height*t.y;break;case 3:default:r.x=t.x;r.y=t.y}return r},i.prototype._convertDataToLen=function(n,t,i,r){typeof r=="undefined"&&(r=!1);var u=t.min==null?t.actualMin:t.min,f=t.max==null?t.actualMax:t.max;return r?n*(1-(i-u)/(f-u)):n*(i-u)/(f-u)},i.prototype._renderCenteredText=function(n,t,i,r,u,f){var e,o;this._isValidPoint(i)&&(u?t.drawStringRotated(n,i,i,u,r,f):t.drawString(n,i,r,f),e=this._element.querySelector('text'),e&&(o=e.getBBox(),e.setAttribute('x',(i.x-o.width/2).toFixed(1)),e.setAttribute('y',(i.y+o.height/6).toFixed(1))))},i.prototype._adjustOffset=function(n,t){n.x=n.x+t.x;n.y=n.y+t.y},i.prototype._getOffset=function(t){var i=this._getPositionOffset(t);return new n.Point(this._offset.x+i.x,this._offset.y+i.y)},i.prototype._getPositionOffset=function(t){var i=new n.Point(0,0),r=this.position,u=this._getSize(t);return(r&1)==1?i.y-=u.height/2:(r&2)==2&&(i.y+=u.height/2),(r&4)==4?i.x-=u.width/2:(r&8)==8&&(i.x+=u.width/2),i},i.prototype._getSize=function(){return new n.Size},i.prototype._isValidPoint=function(n){return isFinite(n.x)&&isFinite(n.y)},i.prototype._measureString=function(n,t,i){var r=n,u;return r._textGroup&&r._textGroup.parentNode==null?(r._svg.appendChild(r._textGroup),u=r.measureString(t,i,null,this.style),r.endRender()):u=r.measureString(t,i,null,this.style),u},i._DATA_KEY='wj-chart-annotation',i._CSS_ANNOTATION='wjchart-annotation',i._CSS_ANNO_TEXT='anno-text',i._CSS_ANNO_SHAPE='anno-shape',i}();i.AnnotationBase=r;f=function(t){function i(n){t.call(this,n)}return __extends(i,t),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._text='';this.position=1},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_TEXT},Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(n){var t=this;n!==t._text&&(t._text=n,t._repaint())},enumerable:!0,configurable:!0}),i.prototype._render=function(n){var t=this,i=t._convertPoint(t.point),u;u=t._getOffset(n);t._adjustOffset(i,u);t._renderCenteredText(t._text,n,i,r._CSS_ANNO_TEXT,null,t.style)},i.prototype._getSize=function(t){return t?this._measureString(t,this._text,r._CSS_ANNO_TEXT):new n.Size},i._CSS_TEXT='wjchart-anno-text',i}(r);i.Text=f;u=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype._resetDefaultValue=function(){n.prototype._resetDefaultValue.call(this);this._content=''},t.prototype._getCSSClass=function(){return n.prototype._getCSSClass.call(this)+' '+t._CSS_SHAPE},Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(n){var t=this;n!==t._content&&(t._content=n,t._repaint())},enumerable:!0,configurable:!0}),t.prototype._render=function(n){var t=this;t._shapeContainer=n.startGroup();n.stroke='#000';t._renderShape(n);n.stroke=null;n.endGroup();t._content&&t._renderText(n)},t.prototype._getContentCenter=function(){return this.point},t.prototype._renderShape=function(){},t.prototype._renderText=function(n){var t=this,i,u;(i=t._convertPoint(t._getContentCenter()),t._isValidPoint(i))&&(u=t._getOffset(),t._adjustOffset(i,u),t._renderCenteredText(t._content,n,i,r._CSS_ANNO_TEXT))},t._CSS_SHAPE='wjchart-anno-shape',t}(r);i.Shape=u;e=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._width=100;this._height=80},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_ELLIPSE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i._width,e=i._height,o=i._getOffset();i._adjustOffset(u,o);i._isValidPoint(u)&&n.drawEllipse(u.x,u.y,f/2,e/2,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){return new n.Size(this.width,this.height)},i._CSS_ELLIPSE='wjchart-anno-ellipse',i}(u);i.Ellipse=e;o=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._width=100;this._height=80},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_RECTANGLE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i._width,e=i._height,o=i._getOffset();i._adjustOffset(u,o);i._isValidPoint(u)&&n.drawRect(u.x-f/2,u.y-e/2,i._width,i._height,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){return new n.Size(this.width,this.height)},i._CSS_RECTANGLE='wjchart-anno-rectangle',i}(u);i.Rectangle=o;s=function(i){function u(n){i.call(this,n)}return __extends(u,i),Object.defineProperty(u.prototype,"start",{get:function(){return this._start},set:function(n){var t=this;n.x!=null&&n.y!=null&&(n.x!==t._start.x||n.y!==t._start.y)&&(t._start=n,t._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"end",{get:function(){return this._end},set:function(n){var t=this;n.x!=null&&n.y!=null&&(n.x!==t._end.x||n.y!==t._end.y)&&(t._end=n,t._repaint())},enumerable:!0,configurable:!0}),u.prototype._resetDefaultValue=function(){i.prototype._resetDefaultValue.call(this);this._start=new t.DataPoint(0,0);this._end=new t.DataPoint(0,0);this.position=1},u.prototype._getCSSClass=function(){return i.prototype._getCSSClass.call(this)+' '+u._CSS_LINE},u.prototype._getContentCenter=function(){var n=this.start,i=this.end;return new t.DataPoint((n.x+i.x)/2,(n.y+i.y)/2)},u.prototype._renderShape=function(n){i.prototype._renderShape.call(this,n);var t=this,u=t._convertPoint(t._start),f=t._convertPoint(t._end),e;t._cS=u;t._cE=f;e=t._getOffset();t._adjustOffset(u,e);t._adjustOffset(f,e);t._isValidPoint(u)&&t._isValidPoint(f)&&n.drawLine(u.x,u.y,f.x,f.y,r._CSS_ANNO_SHAPE,t.style)},u.prototype._getSize=function(){var t=this._cS,i=this._cE;return new n.Size(Math.abs(t.x-i.x),Math.abs(t.y-i.y))},u.prototype._renderText=function(n){var t=this,u,f,e=t._cS,o=t._cE,i;(u=t._convertPoint(t._getContentCenter()),f=t._getOffset(),t._adjustOffset(u,f),t._isValidPoint(u))&&(i=Math.atan2(o.y-e.y,o.x-e.x)*180/Math.PI,i=i<-90?i+180:i>90?i-180:i,t._renderCenteredText(t.content,n,u,r._CSS_ANNO_TEXT,i))},u.prototype._renderCenteredText=function(n,t,r,u,f,e){if(f!=null){var h,c,o,s;o=this._measureString(t,n,u).height/2;s=f*Math.PI/180;h=o*Math.sin(s);c=o*Math.cos(s);r.x=r.x+h;r.y=r.y-c}i.prototype._renderCenteredText.call(this,n,t,r,u,f,e)},u._CSS_LINE='wjchart-anno-line',u}(u);i.Line=s;h=function(i){function u(n){i.call(this,n)}return __extends(u,i),u.prototype._processOptions=function(t,r,u){var e=this,f;t==='points'?(f=u[t],n.isArray(f)&&f.forEach(function(n){e.points.push(n)})):i.prototype._processOptions.call(this,t,r,u)},Object.defineProperty(u.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),u.prototype._resetDefaultValue=function(){var t=this;i.prototype._resetDefaultValue.call(this);t._points=new n.collections.ObservableArray;t._points.collectionChanged.addHandler(function(){t._element&&t._repaint()})},u.prototype._getCSSClass=function(){return i.prototype._getCSSClass.call(this)+' '+u._CSS_POLYGON},u.prototype._getContentCenter=function(){for(var i=this.points,r=i.length,u=0,f=0,n=0;n<r;n++)u+=i[n].x,f+=i[n].y;return new t.DataPoint(u/r,f/r)},u.prototype._renderShape=function(n){i.prototype._renderShape.call(this,n);for(var t=this,e=[],o=[],s=t._points,h=s.length,u,c=t._getOffset(),f=0;f<h;f++){if(u=t._convertPoint(s[f]),!t._isValidPoint(u))return;t._adjustOffset(u,c);e.push(u.x);o.push(u.y)}n.drawPolygon(e,o,r._CSS_ANNO_SHAPE,t.style)},u.prototype._getSize=function(){for(var o=this,r,u,f,e,t,h=o._points.length,s=[].map.call(o._points,function(n){return o._convertPoint(n)}),i=0;i<h;i++){if(t=s[i],i===0){r=u=t.x;f=e=t.y;continue}t.x<r?r=t.x:t.x>u&&(u=t.x);t.y<f?f=t.y:t.y>e&&(e=t.y)}return new n.Size(u-r,e-f)},u._CSS_POLYGON='wjchart-anno-polygon',u}(u);i.Polygon=h;c=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"radius",{get:function(){return this._radius},set:function(t){t!==this._radius&&(this._radius=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._radius=100},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_CIRCLE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i._getOffset();i._adjustOffset(u,f);i._isValidPoint(u)&&n.drawPieSegment(u.x,u.y,i.radius,0,360,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){var t=this.radius*2;return new n.Size(t,t)},i._CSS_CIRCLE='wjchart-anno-circle',i}(u);i.Circle=c;l=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"length",{get:function(){return this._length},set:function(t){t!==this._length&&(this._length=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._length=100},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_SQUARE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,u=i._convertPoint(i.point),f=i.length,e=i._getOffset();i._adjustOffset(u,e);i._isValidPoint(u)&&n.drawRect(u.x-f/2,u.y-f/2,f,f,r._CSS_ANNO_SHAPE,i.style)},i.prototype._getSize=function(){return new n.Size(this.length,this.length)},i._CSS_SQUARE='wjchart-anno-square',i}(u);i.Square=l;a=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=n.asNumber(t,!1,!0),this._repaint())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"href",{get:function(){return this._href},set:function(n){n!==this._href&&(this._href=n,this._repaint())},enumerable:!0,configurable:!0}),i.prototype._resetDefaultValue=function(){t.prototype._resetDefaultValue.call(this);this._width=100;this._height=100;this._href=''},i.prototype._getCSSClass=function(){return t.prototype._getCSSClass.call(this)+' '+i._CSS_IMAGE},i.prototype._renderShape=function(n){t.prototype._renderShape.call(this,n);var i=this,r=i._convertPoint(i.point),u=i._href,f=i.width,e=i.height,o=i._getOffset();u.length>0&&i._isValidPoint(r)&&(i._adjustOffset(r,o),n.drawImage(u,r.x-f/2,r.y-e/2,f,e));i._applyStyle(i._element,i.style)},i.prototype._getSize=function(){return new n.Size(this.width,this.height)},i.prototype._applyStyle=function(n,t){if(t)for(var i in t)n.setAttribute(this._deCase(i),t[i])},i.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return'-'+n.toLowerCase()})},i._CSS_IMAGE='wjchart-anno-image',i}(u);i.Image=a})(t.annotation||(t.annotation={}));var i=t.annotation})(n.chart||(n.chart={}));var t=n.chart})(wijmo||(wijmo={})),function(n){(function(t){(function(i){'use strict';var r=function(){function r(t,i){var r=this;r._init(t);r._renderGroup();r._bindTooltip();i&&n.isArray(i)&&i.forEach(function(t){var i=t.type||'Circle',u;n.chart.annotation[i]&&(u=new n.chart.annotation[i](t),r._items.push(u))})}return r.prototype._init=function(t){var i=this;i._items=new n.collections.ObservableArray;i._items.collectionChanged.addHandler(i._itemsChanged,i);i._chart=t;i._forceTTShowing=!1;i._annoTTShowing=!1;i._engine=t._currentRenderEngine;t.rendered.addHandler(i._renderAnnotations,i);t.lostFocus.addHandler(i._lostFocus,i)},r.prototype._lostFocus=function(n){this._toggleTooltip(this._tooltip,n,this._chart.hostElement)},Object.defineProperty(r.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),r.prototype.getItem=function(n){var t=this.getItems(n);return t.length>0?t[0]:null},r.prototype.getItems=function(n){var i=[],t;if(this._items.length===0||!n||n==='')return i;for(t=0;t<this._items.length;t++)n===this._items[t].name&&i.push(this._items[t]);return i},r.prototype._bindTooltip=function(){var i=this,r=i._chart.hostElement,u=i._tooltip,f;u||(u=i._tooltip=new t.ChartTooltip,f=n.Tooltip.prototype.hide,n.Tooltip.prototype.hide=function(){i._forceTTShowing||f.call(u)});r&&(r.addEventListener('click',function(n){i._toggleTooltip(u,n,r)}),r.addEventListener('mousemove',function(n){i._chart.isTouching||i._toggleTooltip(u,n,r)}))},r.prototype._toggleTooltip=function(t,i,r){var u=this,f=u._getAnnotation(i.target,r);if(f&&f.tooltip)u._forceTTShowing=!0,u._annoTTShowing=!0,t.show(u._layerEle,f.tooltip,new n.Rect(i.clientX,i.clientY,5,5));else{if(!u._annoTTShowing)return;u._annoTTShowing=!1;u._forceTTShowing=!1;t.hide()}},r.prototype._getAnnotation=function(n,t){var r=this._getAnnotationElement(n,t);return r==null?null:r[i.AnnotationBase._DATA_KEY]},r.prototype._getAnnotationElement=function(t,r){if(!t||!r)return null;var u=t.parentNode;return n.hasClass(t,i.AnnotationBase._CSS_ANNOTATION)?t:u==null||u===document.body||u===document||u===r?null:this._getAnnotationElement(u,r)},r.prototype._itemsChanged=function(n,t){var r=t.action,i=t.item;switch(r){case 0:case 2:i._layer=this;this._renderAnnotation(i);break;case 1:this._destroyAnnotation(i)}},r.prototype._renderAnnotations=function(){var t=this.items,i=t.length,n;for(this._renderGroup(),n=0;n<i;n++)this._renderAnnotation(t[n])},r.prototype._renderGroup=function(){var n=this,i=n._engine,t=n._chart._plotRect;t&&(n._layerEle&&n._layerEle.parentNode!=null||(n._plotrectId='plotRect'+(1e6*Math.random()).toFixed(),i.addClipRect({left:0,top:0,width:t.width,height:t.height},n._plotrectId),n._layerEle=i.startGroup(r._CSS_Layer,n._plotrectId),n._layerEle.setAttribute('transform','translate('+t.left+', '+t.top+')'),i.endGroup()))},r.prototype._renderAnnotation=function(n){this._layerEle&&(n._element&&n._element.parentNode==this._layerEle&&this._layerEle.removeChild(n._element),n.render(this._engine),this._layerEle.appendChild(n._element))},r.prototype._destroyAnnotations=function(){for(var t=this.items,i=t.length,n=0;n<i;n++)this._destroyAnnotation(t[n])},r.prototype._destroyAnnotation=function(n){this._layerEle&&this._layerEle.removeChild(n._element);n.destroy()},r._CSS_Layer='wj-chart-annotationlayer',r}();i.AnnotationLayer=r})(t.annotation||(t.annotation={}));var i=t.annotation})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}))