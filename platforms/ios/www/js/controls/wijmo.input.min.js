/*
    *
    * Wijmo Library 5.20152.90
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){'use strict';var i=function(t){function i(i){var u,r;t.call(this,i,null,!0);this._showBtn=!0;this.textChanged=new n.Event;this.isDroppedDownChanging=new n.Event;this.isDroppedDownChanged=new n.Event;u=this.getTemplate();this.applyTemplate('wj-control wj-dropdown wj-content',u,{_tbx:'input',_btn:'btn',_dropDown:'dropdown'},'input');this._elRef=this._tbx;this._createDropDown();this._updateBtn();r=this;this.addEventListener(this.hostElement,'focus',function(){r.isTouching||r._tbx.focus()});this.addEventListener(this.hostElement,'blur',this._blur.bind(this),!0);this.addEventListener(this.dropDown,'blur',this._blur.bind(this),!0);this.addEventListener(this.hostElement,'keydown',this._keydown.bind(this));this.addEventListener(this.dropDown,'keydown',this._keydown.bind(this));this.addEventListener(this._tbx,'input',function(){r._setText(r.text,!1)});this.addEventListener(this._tbx,'focus',function(){setTimeout(function(){document.activeElement==r._tbx&&r.selectAll()})});document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1&&this.addEventListener(this._tbx,'keyup',function(){r._setText(r.text,!1)});this.addEventListener(this._btn,'click',function(n){r.isDroppedDown=!r.isDroppedDown;n.preventDefault();n.stopPropagation();r.isTouching||document.activeElement!=r._btn||r.selectAll()});this.addEventListener(this._dropDown,'click',function(n){n.stopPropagation()});this._orgTag=='INPUT'&&this._copyOriginalAttributes(this._tbx)}return __extends(i,t),i.prototype.containsFocus=function(){return t.prototype.containsFocus.call(this)||n.contains(this._dropDown,document.activeElement)},i.prototype.dispose=function(){this.isDroppedDown=!1;t.prototype.dispose.call(this)},i.prototype.refresh=function(i){if(typeof i=="undefined"&&(i=!0),t.prototype.refresh.call(this,i),this.isDroppedDown&&getComputedStyle(this.hostElement).display!='none'){var r=document.activeElement;n.showPopup(this._dropDown,this.hostElement);r instanceof HTMLElement&&r!=document.activeElement&&r.focus()}},i.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDroppedDown",{get:function(){return this._dropDown.style.display!='none'},set:function(t){if(t=n.asBoolean(t)&&!this.disabled,t!=this.isDroppedDown&&this.onIsDroppedDownChanging(new n.CancelEventArgs)){var i=this._dropDown;t?(i.style.minWidth||(i.style.minWidth=this.hostElement.getBoundingClientRect().width+'px'),i.style.display='block',this._updateDropDown()):(this.containsFocus()&&(this.isTouching&&this.showDropDownButton?this._btn.focus():this._tbx.focus()),n.hidePopup(i));this._updateFocusState();this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,0,this.text.length)},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n)},i.prototype.onIsDroppedDownChanging=function(n){return this.isDroppedDownChanging.raise(this,n),!n.cancel},i.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDownChanged.raise(this,n)},i.prototype._blur=function(){var n=this;setTimeout(function(){n.containsFocus()||(n.isDroppedDown=!1)},100)},i.prototype._keydown=function(n){if(!n.defaultPrevented)switch(n.keyCode){case 9:case 27:this.isDroppedDown=!1;break;case 115:case 13:this.isDroppedDown=!this.isDroppedDown;this.isDroppedDown||this.focus();n.keyCode==115&&n.preventDefault();break;case 40:case 38:(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)&&(this.isDroppedDown=n.keyCode==40,n.preventDefault())}},i.prototype._setText=function(n){n==null&&(n='');n=n.toString();n!=this._tbx.value&&(this._tbx.value=n);n!=this._oldText&&(this._oldText=n,this.onTextChanged())},i.prototype._updateBtn=function(){this._btn.tabIndex=-1;this._btn.style.display=this._showBtn?'':'none'},i.prototype._createDropDown=function(){},i.prototype._updateDropDown=function(){this.isDroppedDown&&n.showPopup(this._dropDown,this.hostElement)},i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;width:auto"><\/div><\/div>',i}(n.Control);t.DropDown=i})(n.input||(n.input={}));var t=n.input})(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(i){function r(t,r){i.call(this,t);this.valueChanged=new n.Event;this.displayMonthChanged=new n.Event;this.formatItem=new n.Event;this._value=new Date;this._currMonth=this._getMonth(this._value);this._createChildren();this.refresh(!0);this.addEventListener(this.hostElement,'mouseup',this._click.bind(this));this.addEventListener(this.hostElement,'keydown',this._keydown.bind(this));this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){var i,r;n.DateTime.equals(this._value,t)||(t=n.asDate(t,!0),t&&(this._min!=null&&(i=n.DateTime.fromDateTime(this._min,t),t<i&&(t=i)),this._max!=null&&t>this._max&&(r=n.DateTime.fromDateTime(this._max,t),t>r&&(t=r))),!n.DateTime.equals(this._value,t)&&this._isValidDate(t)&&(this._value=t,this.displayMonth=this._getMonth(t),this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw&&(this._fdw=n.asNumber(t,!0),this._fdw&&(this._fdw>6||this._fdw<0)))throw'firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).';},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){n.DateTime.equals(this.displayMonth,t)||(t=n.asDate(t),this._isValidMonth(t)&&(this._currMonth=this._getMonth(t),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showHeader",{get:function(){return this._tblHdr.style.display!='none'},set:function(t){this._tblHdr.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"monthView",{get:function(){return this._tblMonth.style.display!='none'},set:function(n){n!=this.monthView&&(this._tblMonth.style.display=n?'':'none',this._tblYear.style.display=n?'none':'')},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype.onDisplayMonthChanged=function(n){this.displayMonthChanged.raise(this,n)},r.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},r.prototype.refresh=function(r){var o,e,u,c,h,l,s,f;for(typeof r=="undefined"&&(r=!0),c=this.firstDayOfWeek!=null?this.firstDayOfWeek:n.Globalize.getFirstDayOfWeek(),i.prototype.refresh.call(this,r),this._firstDay=n.DateTime.addDays(this.displayMonth,-(this.displayMonth.getDay()-c+7)%7),this._spMonth.textContent=n.Globalize.format(this.displayMonth,'y'),o=this._tblMonth.querySelectorAll('td'),f=0;f<7&&f<o.length;f++)u=n.DateTime.addDays(this._firstDay,f),o[f].textContent=n.Globalize.format(u,'ddd');for(f=7;f<o.length;f++)if(e=o[f],u=n.DateTime.addDays(this._firstDay,f-7),e.textContent=u.getDate().toString(),e.className='',h=!this._isValidDate(u),n.toggleClass(e,'wj-state-invalid',h),n.toggleClass(e,'wj-state-disabled',h||u.getMonth()!=this.displayMonth.getMonth()||!this._isValidDay(u)),n.toggleClass(e,'wj-state-selected',n.DateTime.sameDate(u,this.value)),e.style.fontWeight=n.DateTime.sameDate(u,new Date)?'bold':'',this.itemFormatter&&this.itemFormatter(u,e),this.formatItem.hasHandlers){l=new t.FormatItemEventArgs(f,u,e);this.onFormatItem(l)}for(s=this._tblMonth.querySelectorAll('tr'),s.length&&(u=n.DateTime.addDays(this._firstDay,28),s[s.length-2].style.display=u.getMonth()==this.displayMonth.getMonth()?'':'none',u=n.DateTime.addDays(this._firstDay,35),s[s.length-1].style.display=u.getMonth()==this.displayMonth.getMonth()?'':'none'),o=this._tblYear.querySelectorAll('td'),o.length&&(o[0].textContent=this.displayMonth.getFullYear().toString()),f=1;f<o.length;f++)e=o[f],u=new Date(this.displayMonth.getFullYear(),f-1,1),e.textContent=n.Globalize.format(u,'MMM'),e.className='',n.toggleClass(e,'wj-state-disabled',!this._isValidMonth(u)),n.toggleClass(e,'wj-state-selected',n.DateTime.sameDate(this._getMonth(u),this.displayMonth))},r.prototype._isValidDay=function(t){return this.min&&t<n.DateTime.fromDateTime(this.min,t)?!1:this.max&&t>n.DateTime.fromDateTime(this.max,t)?!1:!0},r.prototype._isValidMonth=function(t){var i=t.getFullYear(),r=t.getMonth(),u=new Date(i,r,1),f=n.DateTime.addDays(new Date(i,r+1),-1);return this._isValidDay(u)||this._isValidDay(f)},r.prototype._isValidDate=function(n){return this.itemValidator&&n?this.itemValidator(n):!0},r.prototype._createChildren=function(){var o=this.getTemplate(),t,r,i,u,f,e;for(this.applyTemplate('wj-control wj-calendar',o,{_tblHdr:'tbl-header',_tdMonth:'btn-month',_spMonth:'span-month',_btnPrev:'btn-prev',_btnToday:'btn-today',_btnNext:'btn-next',_tblMonth:'tbl-month',_tblYear:'tbl-year'}),t=document.createElement('TR'),n.addClass(t,'wj-header'),i=0;i<7;i++)t.appendChild(document.createElement('TD'));for(this._tblMonth.appendChild(t),r=0;r<6;r++){for(t=document.createElement('TR'),i=0;i<7;i++)t.appendChild(document.createElement('TD'));this._tblMonth.appendChild(t)}for(t=document.createElement('TR'),n.addClass(t,'wj-header'),u=document.createElement('TD'),u.setAttribute('colspan','4'),t.appendChild(u),this._tblYear.appendChild(t),f=0;f<3;f++){for(t=document.createElement('TR'),e=0;e<4;e++)t.appendChild(document.createElement('TD'));this._tblYear.appendChild(t)}},r.prototype._click=function(t){var r=!1,i=t.target,u;n.contains(this._tdMonth,i)?(this.monthView=!this.monthView,r=!0):n.contains(this._btnPrev,i)?(this._navigateDate(this.monthView,-1),r=!0):n.contains(this._btnNext,i)?(this._navigateDate(this.monthView,1),r=!0):n.contains(this._btnToday,i)&&(this._navigateDate(this.monthView,0),r=!0);!r&&i&&(i=n.closest(i,'TD'),i&&(this.monthView?(u=this._getCellIndex(this._tblMonth,i),u>6&&(this.value=n.DateTime.fromDateTime(n.DateTime.addDays(this._firstDay,u-7),this.value),r=!0)):(u=this._getCellIndex(this._tblYear,i),u>0&&(this.displayMonth=new Date(this.displayMonth.getFullYear(),u-1,1),this.monthView=!0,r=!0))));r&&t.preventDefault()},r.prototype._getCellIndex=function(n,t){for(var r=n.querySelectorAll('TD'),i=0;i<r.length;i++)if(r[i]==t)return i;return-1},r.prototype._keydown=function(n){if(!n.ctrlKey&&!n.shiftKey){var t=!0;if(this.monthView)switch(n.keyCode){case 37:this.value=this._addDays(-1);break;case 39:this.value=this._addDays(1);break;case 38:this.value=this._addDays(-7);break;case 40:this.value=this._addDays(7);break;case 34:this.displayMonth=this._addMonths(1);break;case 33:this.displayMonth=this._addMonths(-1);break;default:t=!1}else switch(n.keyCode){case 37:this.displayMonth=this._addMonths(-1);break;case 39:this.displayMonth=this._addMonths(1);break;case 38:this.displayMonth=this._addMonths(-4);break;case 40:this.displayMonth=this._addMonths(4);break;case 34:this.displayMonth=this._addMonths(12);break;case 33:this.displayMonth=this._addMonths(-12);break;case 13:this.monthView=!0;break;default:t=!1}t&&n.preventDefault()}},r.prototype._getMonth=function(n){return n||(n=new Date),new Date(n.getFullYear(),n.getMonth(),1)},r.prototype._addDays=function(t){var i=n.DateTime.addDays(this.value,t);return n.DateTime.fromDateTime(i,this.value)},r.prototype._addMonths=function(t){return n.DateTime.addMonths(this.displayMonth,t)},r.prototype._navigateDate=function(t,i){switch(i){case 0:t?this.value=new Date:this.displayMonth=this._getMonth(new Date);break;case 1:this.displayMonth=t?n.DateTime.addMonths(this.displayMonth,1):new Date(this.displayMonth.getFullYear()+1,0,1);break;case-1:this.displayMonth=t?n.DateTime.addMonths(this.displayMonth,-1):new Date(this.displayMonth.getFullYear()-1,11,1)}},r.controlTemplate='<div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"><\/span> <span class="wj-glyph-down"><\/span><\/div><div class="wj-btn-group"><button type="button" wj-part="btn-prev" tabindex="-1" class="wj-btn wj-btn-default"><span class="wj-glyph-left"><\/span><\/button><button type="button" wj-part="btn-today" tabindex="-1" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"><\/span><\/button><button type="button" wj-part="btn-next" tabindex="-1" class="wj-btn wj-btn-default"><span class="wj-glyph-right"><\/span><\/button><\/div><\/div><table wj-part="tbl-month" class="wj-calendar-month" /><table wj-part="tbl-year" class="wj-calendar-year" style="display:none" /><\/div>',r}(n.Control);t.Calendar=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(t){function i(r,u){var f,e,o,s;t.call(this,r);this._hsb=[.5,1,1];this._alpha=1;this.valueChanged=new n.Event;f=this.getTemplate();this.applyTemplate('wj-control wj-colorpicker wj-content',f,{_eSB:'div-sb',_eHue:'div-hue',_eAlpha:'div-alpha',_ePreview:'div-pv',_ePal:'div-pal',_eText:'div-text'});this._palette='#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0'.split(',');this._updatePalette();this._eHue.style.backgroundImage='url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)';this._eHue.style.backgroundSize='contain';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eSB.children[0].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)',this._eSB.children[1].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)');f=i._tplCursor;this._cSB=n.createElement(f);this._cHue=n.createElement(f);this._cHue.style.width='100%';this._cAlpha=n.createElement(f);this._cAlpha.style.height='100%';this._eSB.appendChild(this._cSB);this._eHue.appendChild(this._cHue);this._eAlpha.appendChild(this._cAlpha);e=this;this.addEventListener(this.hostElement,'mousedown',function(n){document.addEventListener('mousemove',o);document.addEventListener('mouseup',s);e._mouseDown(n)});o=function(n){e._mouseMove(n)};s=function(n){document.removeEventListener('mousemove',o);document.removeEventListener('mouseup',s);e._mouseUp(n)};this.addEventListener(this.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&n.contains(e._ePal,i)&&(r=i.style.backgroundColor,r&&(e.value=new n.Color(r).toString()))});this.value='#ffffff';this.initialize(u);this._updatePanels()}return __extends(i,t),Object.defineProperty(i.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!='none'},set:function(t){this._eAlpha.parentElement.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColorString",{get:function(){return this._eText.style.display!='none'},set:function(t){this._eText.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){this._value=n.asString(t);this._eText.innerText=this._value;var r=new n.Color(this._value),i=r.getHsb();(this._hsb[0]!=i[0]||this._hsb[1]!=i[1]||this._hsb[2]!=i[2]||this._alpha!=r.a)&&(i[2]==0?(i[0]=this._hsb[0],i[1]=this._hsb[1]):i[1]==0&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=r.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this._palette},set:function(t){var i,r;for(t=n.asArray(t),i=0;i<t.length&&i<this._palette.length;i++)r=n.asString(t[i]),this._palette[i]=r;this._updatePalette()},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(){this._updatePanels();this.valueChanged.raise(this)},i.prototype._mouseDown=function(n){this._htDown=this._getTargetPanel(n);this._htDown&&(n.preventDefault(),this.focus(),this._mouseMove(n))},i.prototype._mouseMove=function(t){if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=n.clamp((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=n.clamp((t.clientX-i.left)/i.width,0,1),this._hsb[2]=n.clamp(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=n.clamp((t.clientX-i.left)/i.width,0,1),this._updateColor())}},i.prototype._mouseUp=function(){this._htDown=null},i.prototype._updateColor=function(){var t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString();this._updatePanels()},i.prototype._updatePalette=function(){var o=new n.Color('#fff'),s=new n.Color('#000'),r,t,e;for(this._ePal.innerHTML='',r=0;r<this._palette.length;r++){var u=n.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),i=new n.Color(this._palette[r]),f=i.getHsb();for(u.appendChild(this._makePalEntry(i,4)),t=0;t<5;t++)f[1]==0?(e=t*.1+(f[2]>.5?.05:.55),i=n.Color.interpolate(o,s,e)):i=n.Color.fromHsb(f[0],.1+t*.2,1-t*.1),u.appendChild(this._makePalEntry(i,0));this._ePal.appendChild(u)}},i.prototype._makePalEntry=function(t,i){var r=document.createElement('div');return n.setCss(r,{width:'100%',cursor:'pointer',backgroundColor:t.toString(),marginBottom:i}),r.innerHTML='&nbsp',r},i.prototype._updatePanels=function(){var i=n.Color.fromHsb(this._hsb[0],1,1,1),t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=i.toString();this._eAlpha.style.background='linear-gradient(to right, transparent 0%, '+t.toString()+' 100%)';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eAlpha.style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr='+t.toString()+', GradientType = 1)');this._ePreview.style.backgroundColor=this.value;this._cHue.style.top=(this._hsb[0]*100).toFixed(0)+'%';this._cSB.style.left=(this._hsb[1]*100).toFixed(0)+'%';this._cSB.style.top=(100-this._hsb[2]*100).toFixed(0)+'%';this._cAlpha.style.left=(this._alpha*100).toFixed(0)+'%'},i.prototype._getTargetPanel=function(t){var i=t.target;return n.contains(this._eSB,i)?this._eSB:n.contains(this._eHue,i)?this._eHue:n.contains(this._eAlpha,i)?this._eAlpha:null},i.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;<\/div><div style="height:6px"><\/div><\/div><\/div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"><\/div><\/div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="position:relative;float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"><\/div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"><\/div><\/div><div style="float:left;width:1%;height:89%"><\/div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox" style="position:relative;width:100%;height:100%;cursor:pointer"><\/div><\/div><div style="float:left;width:89%;height:1%"><\/div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox" style="position:relative;width:100%;height:100%;cursor:pointer"><\/div><\/div><\/div><div style="float:left;width:1%;height:10%"><\/div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="width:100%;height:100%"><\/div><\/div><\/div><\/div>',i._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f;"></div>',i}(n.Control);t.ColorPicker=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var r=function(t){function r(i,r){t.call(this,i);this._html=!1;this._search='';this.selectedIndexChanged=new n.Event;this.itemsChanged=new n.Event;this.loadingItems=new n.Event;this.loadedItems=new n.Event;this.itemChecked=new n.Event;this.checkedItemsChanged=new n.Event;this.formatItem=new n.Event;this.applyTemplate('wj-control wj-listbox wj-content',null,null);this._orgTag=='SELECT'&&(this._copyOriginalAttributes(this.hostElement),this._populateSelectElement(this.hostElement));var u=this.hostElement;this.addEventListener(u,'click',this._click.bind(this));this.addEventListener(u,'keydown',this._keydown.bind(this));this.addEventListener(u,'keypress',this._keypress.bind(this));this.initialize(r)}return __extends(r,t),r.prototype.refresh=function(){t.prototype.refresh.call(this);this._populateList()},Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=n.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._pathDisplay},set:function(t){t!=this._pathDisplay&&(this._pathDisplay=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._pathValue},set:function(t){this._pathValue=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"checkedMemberPath",{get:function(){return this._pathChecked},set:function(t){t!=this._pathChecked&&(this._pathChecked=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),r.prototype.getDisplayValue=function(n){var t=null,i;return n>-1&&this._cv&&this._cv.items&&(t=this._cv.items[n],t&&this.displayMemberPath&&(t=t[this.displayMemberPath])),i=t!=null?t.toString():'',this.itemFormatter&&(i=this.itemFormatter(n,i)),i},r.prototype.getDisplayText=function(n){var t=this.hostElement.children,i=n>-1&&n<t.length?t[n]:null;return i!=null?i.textContent:''},Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(n){this._cv&&this._cv.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){var n=this.selectedItem;return n&&this.selectedValuePath&&(n=n[this.selectedValuePath]),n},set:function(n){var i=this.selectedValuePath,u=-1,t,r;if(this._cv){for(t=0;t<this._cv.items.length;t++)if(r=this._cv.items[t],i&&r[i]==n||!i&&r==n){u=t;break}this.selectedIndex=u}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return parseFloat(this.hostElement.style.maxHeight)},set:function(t){this.hostElement.style.maxHeight=n.asNumber(t)+'px'},enumerable:!0,configurable:!0}),r.prototype.showSelection=function(){for(var t,i,r=this.selectedIndex,o=this.hostElement,u=o.children,f,e=0;e<u.length;e++)f=u[e],n.toggleClass(f,'wj-state-selected',e==r);r>-1&&r<u.length&&(f=u[r],t=f.getBoundingClientRect(),i=this.hostElement.getBoundingClientRect(),t.bottom>i.bottom?o.scrollTop+=t.bottom-i.bottom:t.top<i.top&&(o.scrollTop-=i.top-t.top))},r.prototype.getItemChecked=function(t){var r=this._cv.items[t],i;return n.isObject(r)&&this.checkedMemberPath?r[this.checkedMemberPath]:(i=this._getCheckbox(t),i?i.checked:!1)},r.prototype.setItemChecked=function(n,t){this._setItemChecked(n,t,!0)},r.prototype.toggleItemChecked=function(n){var t=!this.getItemChecked(n);this.setItemChecked(n,!t)},Object.defineProperty(r.prototype,"checkedItems",{get:function(){var t=[],n;if(this._cv)for(n=0;n<this._cv.items.length;n++)this.getItemChecked(n)&&t.push(this._cv.items[n]);return t},set:function(t){var i=this._cv,u=n.asArray(t,!1),f,r,e;if(i&&u){for(f=i.currentPosition,r=0;r<i.items.length;r++)e=i.items[r],this._setItemChecked(r,u.indexOf(e)>-1,!1);i.moveCurrentToPosition(f);this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),r.prototype.onSelectedIndexChanged=function(n){this.selectedIndexChanged.raise(this,n)},r.prototype.onItemsChanged=function(n){this.itemsChanged.raise(this,n)},r.prototype.onLoadingItems=function(n){this.loadingItems.raise(this,n)},r.prototype.onLoadedItems=function(n){this.loadedItems.raise(this,n)},r.prototype.onItemChecked=function(n){this.itemChecked.raise(this,n)},r.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},r.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},r.prototype._setItemChecked=function(t,i,r){var u,f,e;typeof r=="undefined"&&(r=!0);u=this._cv.items[t];n.isObject(u)&&(f=n.tryCast(this._cv,'IEditableCollectionView'),u[this.checkedMemberPath]!=i&&(this._checking=!0,f?(f.editItem(u),u[this.checkedMemberPath]=i,f.commitEdit()):(u[this.checkedMemberPath]=i,this._cv.refresh()),this._checking=!1));e=this._getCheckbox(t);e&&e.checked!=i&&(e.checked=i);r&&(this.onItemChecked(),this.onCheckedItemsChanged())},r.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},r.prototype._cvCurrentChanged=function(){this.showSelection();this.onSelectedIndexChanged()},r.prototype._populateList=function(){var f=this.hostElement,e,t,u,o,r,s;if(f){if(e=this.containsFocus(),this.onLoadingItems(),f.innerHTML='',this._cv)for(t=0;t<this._cv.items.length;t++){if(u=this.getDisplayValue(t),this._html!=!0&&(u=n.escapeHtml(u)),this.checkedMemberPath&&(o=this._cv.items[t][this.checkedMemberPath],u='<label><input type="checkbox" tabindex="-1"'+(o?' checked':'')+'> '+u+'</label>'),r=document.createElement('div'),r.innerHTML=u,r.className='wj-listbox-item',n.hasClass(r.firstChild,'wj-separator')&&(r.className+=' wj-separator'),this.formatItem.hasHandlers){s=new i(t,this._cv.items[t],r);this.onFormatItem(s)}f.appendChild(r)}f.children.length==0&&f.appendChild(document.createElement('div'));e&&!this.containsFocus()&&this.focus();this.showSelection();this.onLoadedItems()}},r.prototype._click=function(t){for(var r,u=this.hostElement.children,i=0;i<u.length;i++)if(n.contains(u[i],t.target)){this.selectedIndex=i;break}this.checkedMemberPath&&this.selectedIndex>-1&&(r=this._getCheckbox(this.selectedIndex),r==t.target&&this.setItemChecked(this.selectedIndex,r.checked));this.containsFocus()&&document.activeElement!=this.hostElement&&this.focus()},r.prototype._keydown=function(n){var s=!0,i=this.selectedIndex,e=this.hostElement,u=e.children,t,r,o;switch(n.keyCode){case 40:i<u.length-1&&this.selectedIndex++;break;case 38:i>0&&this.selectedIndex--;break;case 36:this.selectedIndex=0;break;case 35:this.selectedIndex=u.length-1;break;case 34:if(this.selectedIndex>-1){var i=this.selectedIndex,h=e.offsetHeight,f=0;for(t=i+1;t<this._cv.items.length;t++){if(r=u[t].scrollHeight,f+r>h){this.selectedIndex=t;break}f+=r}this.selectedIndex==i&&this._cv.moveCurrentToLast()}break;case 33:if(this.selectedIndex>-1){var i=this.selectedIndex,h=e.offsetHeight,f=0;for(t=i-1;t>0;t--){if(r=u[t].scrollHeight,f+r>h){this.selectedIndex=t;break}f+=r}this.selectedIndex==i&&this._cv.moveCurrentToFirst()}break;case 32:this.checkedMemberPath&&this.selectedIndex>-1&&(o=this._getCheckbox(this.selectedIndex),o&&(n.preventDefault(),this.setItemChecked(this.selectedIndex,!o.checked)));break;default:s=!1}s&&n.preventDefault()},r.prototype._keypress=function(n){var t,r,i,u,f;if(!n.defaultPrevented&&(n.charCode>32||n.charCode==32&&this._search))for(n.preventDefault(),this._search+=String.fromCharCode(n.charCode).toLowerCase(),t=this,t._toSearch&&clearTimeout(t._toSearch),t._toSearch=setTimeout(function(){t._toSearch=0;t._search=''},600),r=this.hostElement.childElementCount,i=this._search.length>1?0:1;i<r;i++)if(u=(this.selectedIndex+i)%r,f=this.getDisplayText(u).trim().toLowerCase(),f.indexOf(this._search)==0){this.selectedIndex=u;break}},r.prototype._getCheckbox=function(n){var t=this.hostElement.children[n];return t.querySelector('input[type=checkbox]')},r.prototype._populateSelectElement=function(n){for(var t,u=n.children,i=[],f=-1,r=0;r<u.length;r++)t=u[r],t.tagName=='OPTION'&&(t.hasAttribute('selected')&&(f=i.length),t.innerHTML?i.push({hdr:t.innerHTML,val:t.getAttribute('value'),cmdParam:t.getAttribute('cmd-param')}):i.push({hdr:'<div class="wj-separator" style="width:100%;height:1px;margin:3px 0px;background-color:rgba(0,0,0,.2)"/>'}),n.removeChild(t),r--);i&&(this.displayMemberPath='hdr',this.selectedValuePath='val',this.itemsSource=i,this.selectedIndex=f)},r}(n.Control),i;t.ListBox=r;i=function(t){function i(i,r,u){t.call(this);this._index=n.asNumber(i);this._data=r;this._item=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),i}(n.EventArgs);t.FormatItemEventArgs=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(i){function r(t,r){var u,f;i.call(this,t);this._required=!0;this._editable=!1;this._composing=!1;this._deleting=!1;this._settingText=!1;this.selectedIndexChanged=new n.Event;u=this;this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;u._setText(u.text,!0)});f='onmousewheel'in document?'mousewheel':'DOMMouseScroll';this.addEventListener(this.hostElement,f,function(t){if(u.containsFocus()&&!u.isDroppedDown&&!t.defaultPrevented&&u.selectedIndex>-1){var i=n.clamp(t.wheelDelta||-t.detail,-1,1);u.selectedIndex=n.clamp(u.selectedIndex-i,0,u.collectionView.items.length-1);t.preventDefault()}});this._orgTag=='SELECT'&&(this._copyOriginalAttributes(this.hostElement),this._lbx._populateSelectElement(this.hostElement));this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(n){this._lbx.itemsSource=n;this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(n){this._lbx.displayMemberPath=n;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(n){this._lbx.selectedValuePath=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=n.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(n){n!=this.selectedIndex&&(this._lbx.selectedIndex=n);var t=this.getDisplayText(n);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(n){this._lbx.selectedItem=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(n){this._lbx.selectedValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownWidth",{get:function(){var n=this._dropDown;return parseInt(n.style.maxWidth)},set:function(t){var i=this._dropDown;i.style.maxWidth=n.asNumber(t)+'px'},enumerable:!0,configurable:!0}),r.prototype.getDisplayText=function(n){return typeof n=="undefined"&&(n=this.selectedIndex),this._lbx.getDisplayText(n)},r.prototype.onSelectedIndexChanged=function(n){this._updateBtn();this.selectedIndexChanged.raise(this,n)},r.prototype.indexOf=function(n,t){var r=this.collectionView,i,u;if(r&&r.items&&n)for(n=n.toString().toLowerCase(),i=0;i<r.items.length;i++)if(u=this.getDisplayText(i).toLowerCase(),t){if(u==n)return i}else if(u.indexOf(n)==0)return i;return-1},Object.defineProperty(r.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll())},r.prototype._updateBtn=function(){var n=this.collectionView;this._btn.style.display=this._showBtn&&n&&n.items.length?'':'none'},r.prototype._createDropDown=function(){var n=this;this._lbx=new t.ListBox(this._dropDown);this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();n.selectedIndex=n._lbx.selectedIndex;n.onSelectedIndexChanged()});this._lbx.itemsChanged.addHandler(function(){n._updateBtn()});this.addEventListener(this._dropDown,'click',function(){n.isDroppedDown=!1})},r.prototype._setText=function(n,t){if(!this._composing&&!this._settingText){this._settingText=!0;n==null&&(n='');n=n.toString();var r=this.selectedIndex,u=this.collectionView,f=this._getSelStart(),e=-1;this.isEditable&&this._deleting||(r=this.indexOf(n,t),r<0&&t&&(r=this.indexOf(n,!1)),r<0&&f>0&&(r=this.indexOf(n.substr(0,f),!1)),r<0&&!this.isEditable&&u&&u.items&&(this.required||n)&&(r=Math.max(0,this.indexOf(this._oldText,!1))),r>-1&&(e=f,n=this.getDisplayText(r)));u&&u.moveCurrentToPosition(r);n!=this._tbx.value&&(this._tbx.value=n);e>-1&&this.containsFocus()&&!this.isTouching&&this._setSelectionRange(e,n.length);i.prototype._setText.call(this,n,t);this._deleting=!1;this._settingText=!1}},r.prototype._findNext=function(n,t){var i,u,f,r;if(this.collectionView)for(n=n.toLowerCase(),i=this.collectionView.items.length,r=1;r<=i;r++)if(u=(this.selectedIndex+r*t+i)%i,f=this.getDisplayText(u).toLowerCase(),f.indexOf(n)==0)return u;return this.selectedIndex},r.prototype._keydown=function(n){var r,t;if((i.prototype._keydown.call(this,n),!n.defaultPrevented)&&this._elRef==this._tbx&&((n.keyCode==8||n.keyCode==46)&&(this._deleting=!0),r=this.collectionView,r&&r.items)){t=-1;switch(n.keyCode){case 38:t=this._getSelStart();this.selectedIndex=this._findNext(this.text.substr(0,t),-1);this._setSelectionRange(t,this.text.length);n.preventDefault();break;case 40:t=this._getSelStart();this.selectedIndex=this._findNext(this.text.substr(0,t),1);this._setSelectionRange(t,this.text.length);n.preventDefault();break;case 13:this._setSelectionRange(0,this.text.length)}}},r.prototype._setSelectionRange=function(t,i){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,t,i)},r.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},r}(t.DropDown);t.ComboBox=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(t){function i(n,i){t.call(this,n);this._minLength=2;this._maxItems=6;this._itemCount=0;this._delay=500;this._query='';this._handlingCallback=!1;this.isEditable=!0;this.isContentHtml=!0;this.itemFormatter=this._defaultFormatter.bind(this);i&&this.initialize(i)}return __extends(i,t),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype._keydown=function(n){if(!n.defaultPrevented&&this.isDroppedDown)switch(n.keyCode){case 38:case 40:this.selectAll()}t.prototype._keydown.call(this,n)},i.prototype._setText=function(n){if(!this._handlingCallback){if(!n&&this.selectedIndex>-1&&(this.selectedIndex=-1),n!=this._oldText&&(this._tbx.value!=n&&(this._tbx.value=n),this._oldText=n,this.onTextChanged(),!n&&this.collectionView)){this.collectionView.filter=this._query=null;this.isDroppedDown=!1;return}var t=this;t._toSearch&&clearTimeout(t._toSearch);n!=this.getDisplayText()&&(t._toSearch=setTimeout(function(){t._toSearch=null;var n=t.text.trim().toLowerCase();n.length>=t._minLength&&n!=t._query&&(t._query=n,n=n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t._rxMatch=new RegExp('(?=.*'+n.replace(/ /g,')(?=.*')+')','ig'),t._rxHighlight=new RegExp('('+n.replace(/ /g,'|')+')','ig'),t.itemsSourceFunction?t.itemsSourceFunction(n,t.maxItems,t._itemSourceFunctionCallback.bind(t)):t._updateItems())},this._delay))}},i.prototype._itemSourceFunctionCallback=function(t){this._handlingCallback=!0;var i=n.asCollectionView(t);i&&i.moveCurrentToPosition(-1);this.itemsSource=i;this.isDroppedDown=!0;this._handlingCallback=!1;this.refresh()},i.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDownChanged.raise(this,n);this._query='';this.selectedIndex>-1?(this._setText(this.getDisplayText()),this.isTouching||this.selectAll()):this.isTouching||this._tbx.focus()},i.prototype._updateItems=function(){var n=this.collectionView;n&&(this._handlingCallback=!0,n.beginUpdate(),this._itemCount=0,n.filter=this._filter.bind(this),n.moveCurrentToPosition(-1),n.endUpdate(),this._handlingCallback=!1,this.isDroppedDown=n.items.length>0&&this.containsFocus(),n.items.length!=0||this.isEditable||(this.selectedIndex=-1),this.refresh())},i.prototype._filter=function(n){if(this._itemCount>=this._maxItems)return!1;this.displayMemberPath&&(n=n[this.displayMemberPath]);var t=n!=null?n.toString():'';return this._rxMatch.test(t)?(this._itemCount++,!0):!1},i.prototype._defaultFormatter=function(n,t){var i='<b>$1</b>';return this._cssMatch&&(i='<span class='+this._cssMatch+'>$1</span>'),t.replace(this._rxHighlight,i)},i}(t.ComboBox);t.AutoComplete=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(t){function i(i,r){var f,u;t.call(this,i);this.itemClicked=new n.Event;this._tbx.style.display='none';f='<div wj-part="header" class="wj-form-control" style="cursor:default"/>';this._hdr=n.createElement(f);this._tbx.parentElement.insertBefore(this._hdr,this._tbx);this._elRef=this._hdr;this.required=!1;this._orgTag=='SELECT'&&(this.header=this.hostElement.getAttribute('header'),this._lbx.itemsSource&&(this.commandParameterPath='cmdParam'));this.isContentHtml=!0;this.maxDropDownHeight=500;u=this;this.addEventListener(this._hdr,'click',function(){u._isButton?(u.isDroppedDown=!1,u._raiseCommand(n.EventArgs.empty)):u.isDroppedDown=!u.isDroppedDown});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._command},set:function(n){this._command=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"owner",{get:function(){return this._owner},set:function(t){this._enableDisableItems();this._owner=n.asType(t,HTMLElement,!0)},enumerable:!0,configurable:!0}),i.prototype.onItemClicked=function(n){this.itemClicked.raise(this,n)},i.prototype.onTextChanged=function(n){t.prototype.onTextChanged.call(this,n);!this._closing&&this.isDroppedDown&&this._raiseCommand(n)},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.required=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1):this.selectedItem||(this.selectedItem=this._defaultItem)},i.prototype._raiseCommand=function(n){var r=this.selectedItem,t=this._getCommand(r),i;if(t){if(i=this._cmdParamPath?r[this._cmdParamPath]:null,!this._canExecuteCommand(t,i))return;this._executeCommand(t,i)}this.onItemClicked(n)},i.prototype._getCommand=function(n){var t=n&&this.commandPath?n[this.commandPath]:null;return t?t:this.command},i.prototype._executeCommand=function(t,i){t&&!n.isFunction(t)&&(t=t.executeCommand);n.isFunction(t)&&t(i)},i.prototype._canExecuteCommand=function(t,i){if(t){var r=t.canExecuteCommand;if(n.isFunction(r))return r(i)}return!0},i.prototype._enableDisableItems=function(){var i,t,r,u,f;if(this.collectionView&&(this.command||this.commandPath))for(i=this.collectionView.items,t=0;t<i.length;t++)r=this._getCommand(i[t]),u=this.commandParameterPath?i[t][this.commandParameterPath]:null,r&&(f=this._lbx.hostElement.children[t],n.toggleClass(f,'wj-state-disabled',!this._canExecuteCommand(r,u)))},i}(t.ComboBox);t.Menu=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r};wijmo.culture.MultiSelect={itemsSelected:'{count:n0} items selected'},function(n){(function(t){'use strict';var i=function(t){function i(i,r){var u;t.call(this,i);this._maxHdrItems=2;this._hdrFmt=n.culture.MultiSelect.itemsSelected;this.checkedItemsChanged=new n.Event;this.inputElement.setAttribute('readonly','');u=this;this.addEventListener(this.inputElement,'click',function(){u.isDroppedDown=!u.isDroppedDown});this.checkedMemberPath=null;this.removeEventListener(this.dropDown,'click');u=this;u._updateHeader();u.listBox.itemsChanged.addHandler(function(){u._updateHeader()});u.listBox.checkedItemsChanged.addHandler(function(){u._updateHeader();u.onCheckedItemsChanged()});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){var n=this.listBox.checkedMemberPath;return n!=i._DEF_CHECKED_PATH?n:null},set:function(t){t=n.asString(t);this.listBox.checkedMemberPath=t?t:i._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=n.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=n.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=n.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(n){this.listBox.checkedItems=n},enumerable:!0,configurable:!0}),i.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},i.prototype.refresh=function(n){typeof n=="undefined"&&(n=!0);t.prototype.refresh.call(this,n);this._updateHeader()},i.prototype._setText=function(){},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this.dropDown.focus()},i.prototype._keydown=function(n){if(t.prototype._keydown.call(this,n),!n.defaultPrevented&&n.keyCode==32){if(this.isDroppedDown){var i=this.selectedIndex;i>-1&&this._lbx.toggleItemChecked(i)}n.preventDefault()}},i.prototype._updateHeader=function(){var t,r,i;if(this._hdrFormatter)this.inputElement.value=this._hdrFormatter();else{if(t=this.checkedItems,r='',t.length>0)if(t.length<=this._maxHdrItems){if(this.displayMemberPath)for(i=0;i<t.length;i++)t[i]=t[i][this.displayMemberPath];r=t.join(', ')}else r=n.format(this.headerFormat,{count:t.length});this.inputElement.value=r}},i._DEF_CHECKED_PATH='$checked',i}(t.ComboBox);t.MultiSelect=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Click=1]="Click";n[n.Blur=2]="Blur"})(t.PopupTrigger||(t.PopupTrigger={}));var i=t.PopupTrigger,r=function(t){function r(i,r){t.call(this,i,null,!0);this._showTrigger=1;this._hideTrigger=2;this._fadeIn=!0;this._fadeOut=!0;this._click=this._handleClick.bind(this);this._blur=this._handleBlur.bind(this);this.showing=new n.Event;this.shown=new n.Event;this.hiding=new n.Event;this.hidden=new n.Event;n.addClass(this.hostElement,'wj-control wj-content wj-popup');n.hidePopup(this.hostElement,!1);var u=this;u.addEventListener(u.hostElement,'keydown',function(n){n.defaultPrevented||n.keyCode!=27||u.hide()});u.addEventListener(u.hostElement,'click',function(t){n.hasClass(t.target,'wj-hide')&&u.hide()});u.addEventListener(u.hostElement,'blur',this._blur,!0);u.initialize(r)}return __extends(r,t),Object.defineProperty(r.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner&&(this.removeEventListener(this._owner,'click'),this.removeEventListener(this._owner,'blur'));this._owner=t!=null?n.getElement(t):null;this._owner&&(this.addEventListener(this._owner,'click',this._click,!0),this.addEventListener(this._owner,'blur',this._blur,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){return this.hostElement.style.display!='none'},enumerable:!0,configurable:!0}),r.prototype.show=function(t){var r,u,i;if(!this.isVisible&&(r=new n.CancelEventArgs,this.onShowing(r))){t!=null&&(this.modal=n.asBoolean(t));this._modal&&this._showBackdrop();u=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,u,!1,this._fadeIn);this.onShown(r);i=this;setTimeout(function(){for(var n,r=i.hostElement.querySelectorAll('input'),t=0;t<r.length;t++)if(n=r[t],!n.disabled&&n.tabIndex>-1)try{document.activeElement!=n&&n.focus();break}catch(u){}i.containsFocus()||(i.hostElement.tabIndex=0,i.hostElement.focus())},200)}},r.prototype.hide=function(){if(this.isVisible){var t=new n.CancelEventArgs;if(this.onHiding(t)){this._modal&&n.hidePopup(this._bkdrop,!0,this.fadeOut);n.hidePopup(this.hostElement,!0,this.fadeOut);this.onHidden(t)}}},r.prototype.onShowing=function(n){return this.showing.raise(this,n),!n.cancel},r.prototype.onShown=function(n){this.shown.raise(this,n)},r.prototype.onHiding=function(n){return this.hiding.raise(this,n),!n.cancel},r.prototype.onHidden=function(n){this.hidden.raise(this,n)},r.prototype.refresh=function(i){if(typeof i=="undefined"&&(i=!0),t.prototype.refresh.call(this,i),this.isVisible){var r=document.activeElement,u=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,u);this._modal&&r instanceof HTMLElement&&r!=document.activeElement&&r.focus()}},r.prototype._handleResize=function(){this.isVisible&&this.refresh()},r.prototype._handleClick=function(){this.isVisible&&this._hideTrigger&1?this.hide():!this.isVisible&&this._showTrigger&1&&this.show()},r.prototype._handleBlur=function(){if(this.isVisible&&this._hideTrigger&2){var n=this;setTimeout(function(){n.containsFocus()||n.hide()},100)}},r.prototype._showBackdrop=function(){if(!this._bkdrop){this._bkdrop=document.createElement('div');this._bkdrop.tabIndex=-1;n.addClass(this._bkdrop,'wj-popup-backdrop');var t=this;this.addEventListener(this._bkdrop,'mousedown',function(n){t.hideTrigger==0&&(n.preventDefault(),n.stopPropagation())})}this._bkdrop.style.display='';document.body.appendChild(this._bkdrop)},r}(n.Control);t.Popup=r})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(i){function r(t,r){var u,e,f;i.call(this,t);this._value=new Date;this._format='d';this._required=!0;this.valueChanged=new n.Event;this._maskProvider=new n._MaskProvider(this._tbx);this._tbx.type='tel';this.addEventListener(this._tbx,'blur',this._commitText.bind(this));u=this;e='onmousewheel'in document?'mousewheel':'DOMMouseScroll';this.addEventListener(this.hostElement,e,function(t){if(u.containsFocus()&&!u.isDroppedDown&&!t.defaultPrevented&&u.value!=null){var i=n.clamp(t.wheelDelta||-t.detail,-1,1);u.value=n.DateTime.addDays(u.value,i);u.selectAll();t.preventDefault()}});this._orgTag=='INPUT'&&(this._copyOriginalAttributes(this._tbx),f=this._tbx.getAttribute('value'),f&&(this.value=n.Globalize.parseDate(f,'yyyy-MM-dd')));this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){var i,r;n.DateTime.equals(this._value,t)?this._tbx.value=n.Globalize.format(t,this.format):(t=n.asDate(t,!this.required||t==null&&this._value==null),t&&(this.min&&(i=n.DateTime.fromDateTime(this.min,t),t<i&&(t=i)),this.max&&(r=n.DateTime.fromDateTime(this.max,t),t>r&&(t=r))),this._isValidDate(t)?(this._tbx.value=t?n.Globalize.format(t,this.format):'',n.DateTime.sameDate(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?n.Globalize.format(this.value,this.format):'')},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._maskProvider.mask},set:function(t){this._maskProvider.mask=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=n.asFunction(t))},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype.refresh=function(){this.isDroppedDown=!1;this._maskProvider&&this._maskProvider.refresh();this._calendar&&this._calendar.refresh();this._tbx.value=n.Globalize.format(this.value,this.format)},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this.dropDown.focus()},r.prototype._createDropDown=function(){var i=this,r;this._calendar=new t.Calendar(this._dropDown);this._dropDown.tabIndex=-1;this._calendar.valueChanged.addHandler(function(){i.value=n.DateTime.fromDateTime(i._calendar.value,i.value)});r=i.value;this.addEventListener(this._dropDown,'mousedown',function(){r=i.value});this.addEventListener(this._dropDown,'mouseup',function(){var t=i._calendar.value;t&&!n.DateTime.sameDate(r,t)&&(i.isDroppedDown=!1)})},r.prototype._updateDropDown=function(){this._calendar.value=this.value;this._calendar.min=this.min;this._calendar.max=this.max;var n=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=parseFloat(n.fontSize)*18+'px';this._calendar.refresh();i.prototype._updateDropDown.call(this)},r.prototype._keydown=function(t){switch(t.keyCode){case 13:this._commitText();this.selectAll();break;case 27:this.text=n.Globalize.format(this.value,this.format);this.selectAll()}i.prototype._keydown.call(this,t)},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.required?(t=n.Globalize.parseDate(i,this.format),t?this.value=n.DateTime.fromDateTime(t,this.value):this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._setDate=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},r.prototype._isValidDate=function(n){return this.itemValidator&&n?this.itemValidator(n):!0},r}(t.DropDown);t.InputDate=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(t){function i(i,r){var f,u;t.call(this,i);this._value=new Date;this._format='t';this.valueChanged=new n.Event;this._maskProvider=new n._MaskProvider(this._tbx);this._tbx.type='tel';f=this;this.addEventListener(this.hostElement,'blur',function(){f._commitText()},!0);this._orgTag=='INPUT'&&(u=this._tbx.getAttribute('value'),u&&(this.value=n.Globalize.parseDate(u,'HH:mm:ss')));this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!this.required);t&&(this._min!=null&&this._getTime(t)<this._getTime(this._min)&&(t=n.DateTime.fromDateTime(t,this._min)),this._max!=null&&this._getTime(t)>this._getTime(this._max)&&(t=n.DateTime.fromDateTime(t,this._max)));n.DateTime.equals(t,this._value)||(this._setText(t?n.Globalize.format(t,this.format):'',!0),this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format),this.collectionView&&this.collectionView.items.length&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._maskProvider.mask},set:function(t){this._maskProvider.mask=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this.isDroppedDown=!1;this._maskProvider.refresh();this._tbx.value=n.Globalize.format(this.value,this.format);this._updateItems()},i.prototype.onSelectedIndexChanged=function(n){this.selectedIndex>-1&&this._commitText();t.prototype.onSelectedIndexChanged.call(this,n)},i.prototype._updateItems=function(){var i=new Date(0,0,0,0,0),r=new Date(0,0,0,23,59,59),u=n.isNumber(this.step)?this.step:30,f=[],t,e;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),u>0)for(t=i;t<=r;t=n.DateTime.addMinutes(t,u))f.push(n.Globalize.format(t,this.format));e=this.text;this.itemsSource=f;this.text=e},i.prototype._keydown=function(i){t.prototype._keydown.call(this,i);switch(i.keyCode){case 13:this.isDroppedDown||(this._commitText(),this.selectAll());break;case 27:this.text=n.Globalize.format(this.value,this.format);this.selectAll()}},i.prototype._commitText=function(){if(this.text||this.required){var t=n.Globalize.parseDate(this.text,this.format);t?this.value=n.DateTime.fromDateTime(this.value,t):this._tbx.value=n.Globalize.format(this.value,this.format)}else this.value=null},i.prototype._getTime=function(n){return n.getHours()*3600+n.getMinutes()*60+n.getSeconds()},i}(t.ComboBox);t.InputTime=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(t){function i(i,r){var o,e,u,f,s;t.call(this,i);this._showBtn=!0;this._required=!0;this._decChar='.';this._ehSelectAll=this.selectAll.bind(this);this.textChanged=new n.Event;this.valueChanged=new n.Event;o=this.getTemplate();this.applyTemplate('wj-control wj-inputnumber wj-content',o,{_tbx:'input',_btnUp:'btn-inc',_btnDn:'btn-dec'},'input');this._orgTag=='INPUT'&&(this._copyOriginalAttributes(this._tbx),e=this._tbx.getAttribute('value'),e&&(this.value=n.Globalize.parseFloat(e)));this._decChar=n.Globalize.getNumberDecimalSeparator();this._updateBtn();u=this;this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;u._setText(u.text)});f=u._tbx;this.addEventListener(f,'keypress',this._keypress.bind(this));this.addEventListener(f,'keydown',this._keydown.bind(this));this.addEventListener(f,'input',this._input.bind(this));this.addEventListener(f,'focus',function(){setTimeout(u._ehSelectAll)});this.addEventListener(this._btnUp,'click',function(){u.value!=null&&(u.value+=u.step,u.isTouching||setTimeout(u._ehSelectAll))});this.addEventListener(this._btnDn,'click',function(){u.value!=null&&(u.value-=u.step,u.isTouching||setTimeout(u._ehSelectAll))});s='onmousewheel'in document?'mousewheel':'DOMMouseScroll';this.addEventListener(this.hostElement,s,function(t){if(u.containsFocus()&&!t.defaultPrevented&&u.value!=null){var i=n.clamp(t.wheelDelta||-t.detail,-1,1);u.value+=(u.step||1)*i;setTimeout(u._ehSelectAll);t.preventDefault()}});this.addEventListener(this.hostElement,'focus',function(){u.isTouching||f.focus()});this.addEventListener(this.hostElement,'blur',function(){var t=n.Globalize.format(u.value,u.format);u._setText(t)},!0);this.value=0;this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(t=n.asNumber(t,!this.required||t==null&&this._value==null),t==null)this._setText('');else if(!isNaN(t)){t=this._clamp(t);var i=n.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._getInputRange();n.setSelectionRange(this._tbx,t[0],t[1])},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n)},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this._decChar=n.Globalize.getNumberDecimalSeparator();this._setText(n.Globalize.format(this.value,this.format))},i.prototype._clamp=function(t){return n.clamp(t,this.min,this.max)},i.prototype._isNumeric=function(n,t){typeof t=="undefined"&&(t=!1);var i=n==this._decChar||n>='0'&&n<='9';return i||t||(i='+-()'.indexOf(n)>-1),i},i.prototype._getInputRange=function(n){var t;typeof n=="undefined"&&(n=!1);var i=[0,0],r=this.text,u=!1;for(t=0;t<r.length;t++)this._isNumeric(r[t],n)&&(u||(i[0]=t,u=!0),i[1]=t+1);return i},i.prototype._moveToDigit=function(){var t=this._getInputRange(!0);n.setSelectionRange(this._tbx,t[0],t[1])},i.prototype._updateBtn=function(){this._showBtn&&this._step?(this._btnUp.style.display=this._btnDn.style.display='',n.addClass(this.hostElement,'wj-input-show-spinner')):(this._btnUp.style.display=this._btnDn.style.display='none',n.removeClass(this.hostElement,'wj-input-show-spinner'))},i.prototype._setText=function(t){if(!this._composing){if(!t){if(!this._required){this._tbx.value='';this._value!=null&&(this._value=null,this.onValueChanged());this._oldText&&(this._oldText=t,this.onTextChanged());return}t='0'}if(t=='-'||t==')'){this._tbx.value=t;n.setSelectionRange(this._tbx,1);return}t.length>1&&t[t.length-1]==')'&&t[0]!='('&&(t=t.substr(0,t.length-1));var i=n.Globalize.parseFloat(t,this.format);if(isNaN(i)){this._tbx.value=this._oldText;return}this._oldText&&this._oldText.indexOf('%')>-1&&t.indexOf('%')<0&&(i/=100);t=n.Globalize.format(i,this.format);t!=this._tbx.value&&(this._tbx.value=t);i=this._clamp(i);i!=this._value&&(this._value=i,this.onValueChanged());t!=this._oldText&&(this._oldText=t,this.onTextChanged())}},i.prototype._keypress=function(t){var i,u,r;this._composing||t.charCode&&(i=String.fromCharCode(t.charCode),this._isNumeric(i)?(u=this._getInputRange(!0),this._tbx.selectionStart<u[0]&&n.setSelectionRange(this._tbx,u[0],u[1])):t.preventDefault(),i=='-'&&(this.value!=0?(this.value*=-1,this._moveToDigit()):this._setText('-'),t.preventDefault()),i=='+'&&(this.value=Math.abs(this.value),this._moveToDigit(),t.preventDefault()),i==this._decChar&&(r=this._tbx.value.indexOf(i),r>-1&&(this._getSelStart()<=r&&r++,n.setSelectionRange(this._tbx,r),t.preventDefault())))},i.prototype._keydown=function(t){var i;if(!this._composing)switch(t.keyCode){case 38:case 40:this.step&&(this.value=this._clamp(this.value+this.step*(t.keyCode==38?1:-1)),setTimeout(this.selectAll.bind(this)),t.preventDefault());break;case 8:this._getSelStart()==this._tbx.selectionEnd&&(i=this._getSelStart(),i>0&&this.text[i-1]==this._decChar&&(n.setSelectionRange(this._tbx,i-1),t.preventDefault()));break;case 46:this._getSelStart()==this._tbx.selectionEnd&&(i=this._getSelStart(),i>0&&this.text[i]==this._decChar&&(n.setSelectionRange(this._tbx,i+1),t.preventDefault()))}},i.prototype._input=function(){var r;if(!this._composing){var i=this._tbx,u=i.value,t=this._getSelStart(),f=u.indexOf(this._decChar);this._setText(u);u&&((f<0||t<=f)&&(t+=i.value.length-u.length),this._oldText&&this._oldText.indexOf(this._decChar)>-1&&i.value.indexOf(this._decChar)>-1&&f<0&&(t=i.value.indexOf(this._decChar)),r=this._getInputRange(),t<r[0]&&(t=r[0]),t>r[1]&&(t=r[1]),n.setSelectionRange(i,t))}},i.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-<\/button><\/span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+<\/button><\/span><\/div>',i}(n.Control);t.InputNumber=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(t){function i(i,r){var e,u,f;t.call(this,i);this.valueChanged=new n.Event;e=this.getTemplate();this.applyTemplate('wj-control wj-inputmask wj-content',e,{_tbx:'input'},'input');this._orgTag=='INPUT'&&(this._copyOriginalAttributes(this._tbx),u=this._tbx.getAttribute('value'),u&&(this.value=u));this._maskProvider=new n._MaskProvider(this._tbx);this.initialize(r);f=this;this.addEventListener(this._tbx,'focus',function(){setTimeout(function(){f.selectAll()})});this.addEventListener(this._tbx,'input',function(){setTimeout(function(){f.onValueChanged()})})}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._tbx.value},set:function(t){t!=this.value&&(this._tbx.value=n.asString(t),this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawValue",{get:function(){return this._maskProvider.getRawValue()},set:function(n){this.value=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._maskProvider.mask},set:function(t){var i=this.value;this._maskProvider.mask=n.asString(t);this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._maskProvider.promptChar},set:function(n){var t=this.value;this._maskProvider.promptChar=n;this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._maskProvider.maskFull},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._maskProvider.getMaskRange();n.setSelectionRange(this._tbx,t[0],t[1]+1)},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this._maskProvider.refresh()},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/><\/div>',i}(n.Control);t.InputMask=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){'use strict';var i=function(i){function r(t,r){i.call(this,t);this._required=!0;this.valueChanged=new n.Event;this._tbx.style.paddingLeft='24px';this._ePreview=n.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>');this.hostElement.style.position='relative';this.hostElement.appendChild(this._ePreview);this._orgTag=='INPUT'&&(this._tbx.type='',this._commitText());this.value='#ffffff';this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(t||!this.required)&&(this.text=n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(n.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(n){this._colorPicker.showAlphaChannel=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype._createDropDown=function(){var i=this;this._colorPicker=new t.ColorPicker(this._dropDown);n.setCss(this._dropDown,{minWidth:420,minHeight:200});this._colorPicker.valueChanged.addHandler(function(){i.value=i._colorPicker.value})},r.prototype._keydown=function(n){switch(n.keyCode){case 13:this.isDroppedDown=!1;this._commitText();this.selectAll();break;case 27:this.isDroppedDown=!1;this.text=this.value;this.selectAll()}i.prototype._keydown.call(this,n)},r.prototype._blur=function(){i.prototype._blur.call(this);this._commitText()},r.prototype._commitText=function(){if(this.value!=this.text){if(!this.required&&!this.text){this._value=this.text;this._ePreview.style.backgroundColor='';return}var t=n.Color.fromString(this.text);t?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:''}},r}(t.DropDown);t.InputColor=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}))